{"filter":false,"title":"restaurants_searcher.py","tooltip":"/restaurants_searcher.py","undoManager":{"mark":25,"position":25,"stack":[[{"start":{"row":0,"column":0},"end":{"row":31,"column":25},"action":"insert","lines":["# restaurants_searcher.py","","import json","import csv","import requests","# アクセスキー取得用","import env ","","# 初期設定","KEYID = env.ACCESS_KEY","HIT_PER_PAGE = 100","PREF = \"PREF13\"","FREEWORD_CONDITION = 1","FREEWORD = \"東京駅\"","","PARAMS = {\"keyid\": KEYID, \"hit_per_page\":HIT_PER_PAGE, \"pref\":PREF, \"freeword_condition\":FREEWORD_CONDITION, \"freeword\":FREEWORD}","","def write_data_to_csv(params):","    restaurants = []","    json_res = requests.get(\"https://api.gnavi.co.jp/RestSearchAPI/v3/\", params=params).text","    response = json.loads(json_res)","    if \"error\" in response:","        return print(\"エラーが発生しました！\")","    for restaurant in response[\"rest\"]:","        restaurant_name = restaurant[\"name\"]","        restaurants.append(restaurant_name)","    with open(\"restaurants_list.csv\", \"w\") as f:","        writer = csv.writer(f)","        writer.writerow(restaurants)","    return print(restaurants)","","write_data_to_csv(PARAMS)"],"id":1}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":2},"action":"insert","lines":["# "],"id":2}],[{"start":{"row":9,"column":24},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["# KEYID = env.ACCESS_KEY",""],"id":6}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"remove","lines":["# "],"id":7}],[{"start":{"row":10,"column":8},"end":{"row":11,"column":0},"action":"remove","lines":["env.ACCESS_KEY",""],"id":8}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":40},"action":"insert","lines":["d058bd3e2dd04b52ad4bc1185a1e0269"],"id":9}],[{"start":{"row":10,"column":40},"end":{"row":10,"column":41},"action":"insert","lines":["\""],"id":11}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":9},"action":"insert","lines":["\""],"id":12}],[{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["# アクセスキー取得用",""],"id":13}],[{"start":{"row":5,"column":0},"end":{"row":6,"column":0},"action":"remove","lines":["import env ",""],"id":14}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":9},"action":"insert","lines":["import os"],"id":15}],[{"start":{"row":5,"column":9},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":16}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":2},"action":"insert","lines":["# "],"id":17}],[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["# KEYID = \"d058bd3e2dd04b52ad4bc1185a1e0269\"",""],"id":18}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"remove","lines":["# "],"id":19}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":42},"action":"remove","lines":["\"d058bd3e2dd04b52ad4bc1185a1e0269\""],"id":20}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":38},"action":"insert","lines":["os.environ.get('I_DONT_EXIST')"],"id":21}],[{"start":{"row":10,"column":24},"end":{"row":10,"column":36},"action":"remove","lines":["I_DONT_EXIST"],"id":22},{"start":{"row":10,"column":24},"end":{"row":10,"column":40},"action":"insert","lines":["$GRNB_ACCESS_KEY"]}],[{"start":{"row":10,"column":24},"end":{"row":10,"column":25},"action":"remove","lines":["$"],"id":23}],[{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"remove","lines":["# KEYID = env.ACCESS_KEY",""],"id":25}],[{"start":{"row":9,"column":41},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":26}],[{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"remove","lines":["# KEYID = \"d058bd3e2dd04b52ad4bc1185a1e0269\"",""],"id":27}],[{"start":{"row":8,"column":41},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":28}],[{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"remove","lines":["京"],"id":29},{"start":{"row":12,"column":12},"end":{"row":12,"column":13},"action":"remove","lines":["東"]}],[{"start":{"row":12,"column":12},"end":{"row":12,"column":14},"action":"insert","lines":["渋谷"],"id":30}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":20,"column":27},"end":{"row":20,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1594055051911,"hash":"6bd7bf6e3dde937c4398b284b22e767f28b46fe8"}